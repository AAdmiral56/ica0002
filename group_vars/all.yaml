dns_forwarders:
  - 8.8.8.8

rev_domain: 42.168.192.in-addr.arpa

hostname: adattiva
domain: adattiva.xyz
startup_name: adattiva
aadmiral3PN: 6480
reverse_domain:
 - reverse: 42.168.192.in-addr.arpa.

dns_record:
 - name: vm1
   type: A
   ipaddress: 192.168.42.40
 - name: vm2
   type: A
   ipaddress: 192.168.42.37
 - name: vm3
   type: A
   ipaddress: 192.168.42.43
 - name: backup
   type: A
   ipaddress: 192.168.42.156
    
mysql_host: vm2
mysql_database: agama
mysql_user: agama
mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64356436626331636366613638623631313962656537343336616164646562353337396130343732
          6433303131316331613234363865626230393438633135380a366135376531383866663536646564
          34356639356164653734663837363233383035383832613538383239626333623164353261303264
          3833626661366630340a613431623439663037653432643632333730383265373565613237663231
          37656662383330646637633131303139343161383430336530336534376534636665

mysql_exporter_user: exporter
mysql_exporter_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          30313965336365303234653130653163343639323261346333343136613236373765393134643135
          6335316633633561643232366163303332636334353831620a623066383034356465326562313162
          65306166363334366237646662396663646638386132666462613364356334656136313764303761
          6161333130636237300a656533633733656335363835336432343165333039326237363764316162
          64383864373737336232356335626432616637633938653836393838336364663734

mysql_database_backup: backup
mysql_password_backup: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66643033653339333234316563313230343935633463363665663630613239643465643833616632
          3830303435346437393266363330396163353839333836640a646231626133396231626666346631
          65326236363833623838316462363437313333333565306235336337393361613564623163656333
          3134663133616363610a356161363930316565353139383439323933353065336237353464323263
          31613762306137313439393133326237643564633466393238613364336632383432
          
#ns_transfer_secret: !vault |
 #         $ANSIBLE_VAULT;1.1;AES256
  #        36393663343437653933353530653065353338616237343033363735303363616636656462396434
   #       3137373765306132353764623966313564363535653230370a626133393337363131646434633732
    #      37646364336431373832386334646530306634316364623138366662623331356361373538663433
     #     6130646232303039330a616364643965643265653466333562643635356639646266646662386535
      #    38396165663761616631646532396430336138623064626232663738353631636532

#ns_update_secret: 

ns_transfer_secret: !vault |
$ANSIBLE_VAULT1.1;AES256393537626532386561633035663461663666613036343636366337333836363264333630353663333261353334636465313965303932343166383964653161300a336265353833326635633761623338396137376534396639336538656133333538303735623532366464343539646636366464623934383662663261383264610a623036306361663633333436663137636663373962353930313762346463633666306266393861313733366536393739666663623037323237393461623364656431636332303164623137363132306239626633303036353031623037626236
          
ns_update_secret: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36666162383337633262346363316466626632626565343832323166363732626130316332383538
          3431616462356563333937316638643331666462353635310a326366636563373132363333323161
          34363633623366316339323365656532653035646435386162643765646565643731666236643530
          6437316131633730660a353561636566643634643030313264346531613639643432316635626430
          35633232353530326637353938346239383066656664613235396535386133353132376233376638
          3037316463623533346232666138393034313631313332636632

                 
influxdb: influxdb

backup: 192.168.42.39

grafana_port: 3001
agama_port: 8001
prometheus_port: 9090
nginx_container_per_vm: 1

dns_cnames:
  - cname: ns
    real: "{{ groups['dns_server'][0] }}"
    type: CNAME
  - cname: prometheus
    real: "{{ groups['prometheus'][0] }}"
    type: CNAME
  - cname: db
    real: "{{ groups['db_servers'][0] }}"
    type: CNAME
  - cname: www
    real: "{{ groups['web_servers'][0] }}"
    type: CNAME
  - cname: grafana
    real: "{{ groups['grafana'][0] }}"
    type: CNAME
  - cname: grafana
    real: "{{ groups['grafana'][0] }}"
    type: CNAME
  - cname: haproxy-1
    real: "{{ groups['haproxy'][0] }}"
    type: CNAME
  - cname: haproxy-2
    real: "{{ groups['haproxy'][1] }}"
    type: CNAME

prometheus_jobs:
  - name: node
    targets: "{{ groups['all'] }}"
    port: 9100
  - name: bind
    targets:
      - "{{ groups['all'] }}"
    port: 9119
  - name: mysql
    targets:
      - "{{ groups['all'] }}"
    port: 9104
  - name: www
    targets:
      - "{{ groups['all'] }}"
    port: 9113
  - name: haproxy
    targets: "{{ groups['all'] }}"
    port: 9101
  - name: keepalived
    targets: "{{ groups['all'] }}"
    port: 9165
    
a_record:
  - subdomain: backup
    ip: 192.168.42.156    
