dns_forwarders:
  - 8.8.8.8

rev_domain: 42.168.192.in-addr.arpa

hostname: adattiva
domain: adattiva.xyz
startup_name: adattiva

reverse_domain:
 - reverse: 42.168.192.in-addr.arpa.

dns_record:
 - name: vm1
   type: A
   ipaddress: 192.168.42.20
 - name: vm2
   type: A
   ipaddress: 192.168.42.40
 - name: backup
   type: A
   ipaddress: 192.168.42.156
    
mysql_host: vm2
mysql_database: agama
mysql_user: agama
mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          33333164616566663433653131623130386565626461326532636536316165633163396231383234
          3531376165356165616538636564666438623632346263330a623435356638656139376132656232
          30613766656539356538616134326163356235383231336365386162636431616364653038623762
          6363303565316235380a343933303330643535626230613135343430353638376436376239656566
          36623436353530616236396361396637636531613731373937636662656233376538

mysql_exporter_user: exporter
mysql_exporter_password: !vault | 
          $ANSIBLE_VAULT;1.1;AES256
          38353564383934643563616338393863386363373162666436343035643265363038396636623932
          6531363162613139396538353438663532633161393137320a396461326531313730376461303463
          63303566303932373465363562303134616138613764353562653665333865363731656264623930
          6334383462343161660a613861313037323661386335376430303965343131396336633038346562
          33343231303033363965316136333630366430656430643438313834313139323432

mysql_database_backup: backup
mysql_password_backup: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66643033653339333234316563313230343935633463363665663630613239643465643833616632
          3830303435346437393266363330396163353839333836640a646231626133396231626666346631
          65326236363833623838316462363437313333333565306235336337393361613564623163656333
          3134663133616363610a356161363930316565353139383439323933353065336237353464323263
          31613762306137313439393133326237643564633466393238613364336632383432
####
ns_transfer_secret: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36393663343437653933353530653065353338616237343033363735303363616636656462396434
          3137373765306132353764623966313564363535653230370a626133393337363131646434633732
          37646364336431373832386334646530306634316364623138366662623331356361373538663433
          6130646232303039330a616364643965643265653466333562643635356639646266646662386535
          38396165663761616631646532396430336138623064626232663738353631636532

ns_update_secret: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64393836623738373665636139656465616264303233333636323431643465613461363933616165
          6664666265656463613364623935343865396437356263320a323232663734386562313465373066
          33393330653333666435666633313833646363346563396138666533316230353630383939333036
          3236353464663731630a616137303831633230333030386337643862353465623962613730626231
          37343265626639663632666437623464623462396337663434393965356334633930
                 
influxdb: influxdb

backup: 192.168.42.39

grafana_port: 3001
agama_port: 8001
prometheus_port: 9090
nginx_container_per_vm: 1

dns_cnames:
  - cname: ns
    real: "{{ groups['dns_server'][0] }}"
    type: CNAME
  - cname: prometheus
    real: "{{ groups['prometheus'][0] }}"
    type: CNAME
  - cname: db
    real: "{{ groups['db_servers'][0] }}"
    type: CNAME
  - cname: www
    real: "{{ groups['web_servers'][0] }}"
    type: CNAME
  - cname: grafana
    real: "{{ groups['grafana'][0] }}"
    type: CNAME
  - cname: grafana
    real: "{{ groups['grafana'][0] }}"
    type: CNAME
  - cname: haproxy-1
    real: "{{ groups['haproxy'][0] }}"
    type: CNAME
  - cname: haproxy-2
    real: "{{ groups['haproxy'][1] }}"
    type: CNAME

prometheus_jobs:
  - name: node
    targets: "{{ groups['all'] }}"
    port: 9100
  - name: bind
    targets:
      - "{{ groups['all'] }}"
    port: 9119
  - name: mysql
    targets:
      - "{{ groups['all'] }}"
    port: 9104
  - name: www
    targets:
      - "{{ groups['all'] }}"
    port: 9113
  - name: haproxy
    targets: "{{ groups['all'] }}"
    port: 9101
  - name: keepalived
    targets: "{{ groups['all'] }}"
    port: 9165
    
a_record:
  - subdomain: backup
    ip: 192.168.42.156    
